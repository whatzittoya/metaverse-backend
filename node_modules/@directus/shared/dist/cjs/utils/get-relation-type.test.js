"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const vitest_1 = require("vitest");
const get_relation_type_1 = require("./get-relation-type");
(0, vitest_1.describe)('getRelationType', () => {
    (0, vitest_1.it)('returns m2o when relation is the same as collection and field', () => {
        const mockRelation = { collection: 'test', related_collection: 'test2', field: 'testField' };
        (0, vitest_1.expect)((0, get_relation_type_1.getRelationType)({ relation: mockRelation, collection: 'test', field: 'testField' })).toBe('m2o');
    });
    (0, vitest_1.it)('returns m2a when one_allowed_collections and one_collection_field are defined', () => {
        const mockRelation = {
            collection: 'test',
            related_collection: 'test2',
            field: 'testField',
            meta: {
                one_allowed_collections: ['test', 'test2'],
                one_collection_field: 'testField',
            },
        };
        (0, vitest_1.expect)((0, get_relation_type_1.getRelationType)({ relation: mockRelation, collection: 'test', field: 'testField' })).toBe('m2a');
    });
    (0, vitest_1.it)('returns o2m when related_collection is the same as collection and field', () => {
        const mockRelation = {
            collection: 'test',
            related_collection: 'test2',
            field: 'testField',
            meta: { one_field: 'testField' },
        };
        (0, vitest_1.expect)((0, get_relation_type_1.getRelationType)({ relation: mockRelation, collection: 'test2', field: 'testField' })).toBe('o2m');
    });
});
