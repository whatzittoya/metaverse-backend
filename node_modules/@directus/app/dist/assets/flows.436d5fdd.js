import{a as l,o as r,b as d,w as s,l as e,E as t,e as n}from"./runtime-core.esm-bundler.fe249c5c.js";const h={class:"markdown-body"},u=e("blockquote",null,[e("p",null,"Flows enable custom, event-driven data processing and task automation within Directus. Each Flow is composed of one Trigger, followed by a series of Operations.")],-1),p={class:"tip hint"},w=e("div",{class:"hint-title"},"Before You Begin",-1),g={class:"tip hint"},f=e("div",{class:"hint-title"},"Learn More",-1),_=e("h2",{id:"what%E2%80%99s-a-flow%3F",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#what%E2%80%99s-a-flow%3F"},"#"),t(" What\u2019s a Flow?")],-1),m=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/flows/flows-20220603A/whats-a-flow-20220603A.webp",alt:"What's a Flow?"})],-1),b=e("em",null,"in-app",-1),j=e("p",null,[t("Once a Flow begins, Directus creates a "),e("a",{href:"#the-flow-object"},"Flow Object"),t(". This stores any data generated from the Trigger event. When an Operation in the flow executes successfully, its data is appended onto the Flow Object. Every Operation has access to the entire Flow Object. In other words, each Operation has access to the data from the Flow\u2019s Trigger as well all previously executed Operations in the Flow.")],-1),y=e("h2",{id:"create-a-flow",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#create-a-flow"},"#"),t(" Create a Flow")],-1),F=e("video",{autoplay:"",playsinline:"",muted:"",loop:"",controls:"",title:"Create a Flow"},[e("source",{src:"https://cdn.directus.io/docs/v9/configuration/flows/flows/flows-20220603A/create-a-flow-20220603A.mp4",type:"video/mp4"})],-1),O=e("p",null,"To create a Flow, follow these steps:",-1),v=e("li",null,[t("Navigate to "),e("strong",null,"Settings > Flows"),t(" and click "),e("span",{mi:"",btn:""},"add"),t(" in the Page Header. A drawer menu will open.")],-1),k=e("li",null,[t("Under "),e("strong",null,"Flow Setup"),t(", fill in a "),e("strong",null,"Name"),t(" for the Flow and "),e("em",null,"(optionally)"),t(" the following as desired: "),e("ul",null,[e("li",null,[e("strong",null,"Status"),t(" \u2014 Sets whether the Flow is active or inactive.")]),e("li",null,[e("strong",null,"Icon"),t(" \u2014 Adds a Material Icon used to help quickly identify the Flow.")]),e("li",null,[e("strong",null,"Description"),t(" \u2014 Sets a brief verbal description of the Flow.")]),e("li",null,[e("strong",null,"Color"),t(" \u2014 Sets a color to help identify the Flow.")])])],-1),T=e("strong",null,"Activity and Logs Tracking",-1),x=e("br",null,null,-1),A=e("a",{href:"#logs"},"Logs",-1),S=e("span",{mi:"",btn:""},"arrow_forward",-1),C=e("strong",null,"Trigger Setup",-1),P=e("li",null,[t("Click "),e("span",{mi:"",btn:""},"done"),t(" in the Menu Header to be taken to the Flow Grid Area."),e("br"),t(" You will now see the Trigger Panel on the Flow Grid Area.")],-1),E=e("li",null,[t("On the Trigger Panel, click "),e("span",{mi:""},"add"),t(" and the "),e("strong",null,"Create Operation"),t(" side menu will open.")],-1),N=e("strong",null,"Name",-1),D=e("br",null,null,-1),$=e("a",{href:"#the-flow-object"},"Flow Object",-1),L=e("br",null,null,-1),V=e("li",null,[t("Next, click "),e("span",{mi:"",btn:""},"done"),t(" in the Page Header to confirm and return to the Flow Grid Area.")],-1),W=e("li",null,[t("On the newly created Operation Panel: "),e("ul",null,[e("li",null,[t("Click "),e("span",{mi:"",icon:""},"add"),t(" to add an Operation to execute if the current Operation is successful.")]),e("li",null,[t("Click "),e("span",{mi:"",icon:""},"remove"),t(" to add an Operation to execute if the current Operation fails.")])])],-1),B=e("li",null,"Repeat steps 8-10 to build out your Flow as desired.",-1),I=e("li",null,[e("strong",null,"Optional:"),t(" To edit a Trigger or Operation Panel, click "),e("span",{mi:"",icon:""},"edit"),t(" and make any necessary edits.")],-1),q=e("li",null,[e("strong",null,"Optional:"),t(" To delete an Operation Panel, click "),e("span",{mi:"",icon:""},"more_vert"),t(" then "),e("span",{mi:"",icon:"",dngr:""},"delete"),t(".")],-1),G=e("h2",{id:"the-flow-object",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#the-flow-object"},"#"),t(" The Flow Object")],-1),Y=e("p",null,"When a Flow is triggered, Directus creates a JSON object to store all data generated within the Flow. When you create an Operation, this generates a key that appends to the Flow Object when the Operation executes. The key is used to add the associated Operation\u2019s data onto the Flows Object. As each Operation in the Flow executes, it has access to the Flow Object and therefore the data generated from preceding Operations.",-1),H=e("p",null,[t("The following JSON object is a simple example of a Flow with two Operations. The "),e("code",null,"$trigger"),t(", "),e("code",null,"$last"),t(", and "),e("code",null,"$accountability"),t(" keys are included on every Flow. An Operation key will be generated for each Operation that executes successfully.")],-1),M=e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-punctuation"},"{"),t(`
	`),e("span",{class:"hljs-attr"},'"$trigger"'),e("span",{class:"hljs-punctuation"},":"),t(),e("span",{class:"hljs-punctuation"},"{"),e("span",{class:"hljs-punctuation"},"}"),e("span",{class:"hljs-punctuation"},","),t(),e("span",{class:"hljs-comment"},"// Data generated by the Flow's Trigger."),t(`
	`),e("span",{class:"hljs-attr"},'"$last"'),e("span",{class:"hljs-punctuation"},":"),t(),e("span",{class:"hljs-literal"},[e("span",{class:"hljs-keyword"},"null")]),e("span",{class:"hljs-punctuation"},","),t(),e("span",{class:"hljs-comment"},"// Data from the last Operation in the flow, for easy access!"),t(`
	`),e("span",{class:"hljs-attr"},'"$accountability"'),e("span",{class:"hljs-punctuation"},":"),t(),e("span",{class:"hljs-punctuation"},"{"),e("span",{class:"hljs-punctuation"},"}"),e("span",{class:"hljs-punctuation"},","),t(),e("span",{class:"hljs-comment"},"// Provides details on who/what tripped the Trigger and generated this Flow Object."),t(`
	`),e("span",{class:"hljs-attr"},'"operation_key_1"'),e("span",{class:"hljs-punctuation"},":"),t(),e("span",{class:"hljs-string"},'"some_value"'),e("span",{class:"hljs-punctuation"},","),t(`
	`),e("span",{class:"hljs-attr"},'"operation_key_2"'),e("span",{class:"hljs-punctuation"},":"),t(),e("span",{class:"hljs-literal"},[e("span",{class:"hljs-keyword"},"null")]),e("span",{class:"hljs-punctuation"},","),t(),e("span",{class:"hljs-comment"},"// Value is null if no data was generated during an Operation."),t(`
	`),e("span",{class:"hljs-attr"},'"operation_key_3"'),e("span",{class:"hljs-punctuation"},":"),t(),e("span",{class:"hljs-punctuation"},"{"),t(`
		`),e("span",{class:"hljs-comment"},"// The data (if any) generated by the first Operation."),t(`
		`),e("span",{class:"hljs-attr"},'"some_nested_key"'),e("span",{class:"hljs-punctuation"},":"),t(),e("span",{class:"hljs-string"},'"Some nested value."'),t(`
	`),e("span",{class:"hljs-punctuation"},"}"),t(`
`),e("span",{class:"hljs-punctuation"},"}"),t(`
`)])],-1),J=e("h3",{id:"flow-variables",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#flow-variables"},"#"),t(" Flow Variables")],-1),K=e("p",null,"The Flow Object keys serve as variables that allow data access from every Flow Operation. Variables must be passed using the following double-moustache syntax. You can also use dot-notation to extract sub-nested values.",-1),Q=e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-punctuation"},"{"),t(`
	`),e("span",{class:"hljs-attr"},'"operation_key_4"'),e("span",{class:"hljs-punctuation"},":"),t(),e("span",{class:"hljs-punctuation"},"{"),t(`
		`),e("span",{class:"hljs-attr"},'"user"'),e("span",{class:"hljs-punctuation"},":"),t(),e("span",{class:"hljs-string"},'"{{ $accountability.user }}"'),t(`
	`),e("span",{class:"hljs-punctuation"},"}"),t(`
`),e("span",{class:"hljs-punctuation"},"}"),t(`
`)])],-1),R=e("h2",{id:"logs",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#logs"},"#"),t(" Logs")],-1),U=e("video",{autoplay:"",playsinline:"",muted:"",loop:"",controls:"",title:""},[e("source",{src:"https://cdn.directus.io/docs/v9/configuration/flows/flows/flows-20220603A/logs-20220603A.mp4",type:"video/mp4"})],-1),z=e("p",null,"Accessible from the Sidebar, Logs store information for each Flow execution. Each log will display information from Triggers as well as each Operation in the Flow. To access a Flow\u2019s logs, follow these steps.",-1),X=e("ol",null,[e("li",null,[t("Navigate to "),e("strong",null,"Settings > Flows"),t(" and click the desired Flow.")]),e("li",null,[t("Click "),e("strong",null,[e("span",{mi:"",icon:"",prmry:""},"fact_check"),t(" Logs")]),t(" in the Sidebar. A side drawer will open, displaying the Flow\u2019s logs.")]),e("li",null,"Click a log and another side drawer will open, allowing you to peer through its data."),e("li",null,[t("When finished, click "),e("span",{mi:"",btn:"",muted:""},"close"),t(" to close the drawer.")])],-1),oe="Flows",ne=!1,ae="Flows enable custom, event-driven data processing and task automation within Directus. Each Flow is composed of one Trigger, followed by a series of Operations.",le="5 min read",ie={__name:"flows",setup(Z,{expose:i}){const a={title:"Flows",modularExtension:!1,description:"Flows enable custom, event-driven data processing and task automation within Directus. Each Flow is composed of one Trigger, followed by a series of Operations.",readTime:"5 min read"};return i({frontmatter:a}),(ee,te)=>{const o=l("router-link"),c=l("docs-wrapper");return r(),d(c,{frontmatter:a},{default:s(()=>[e("div",h,[u,e("div",p,[w,e("p",null,[t("Please be sure to see the "),n(o,{to:"/docs/getting-started/quickstart.md"},{default:s(()=>[t("Quickstart Guide")]),_:1}),t(" to get a basic overview of the platform.")])]),e("div",g,[f,e("p",null,[t("There is also dedicated API documentation on "),n(o,{to:"/docs/reference/system/flows"},{default:s(()=>[t("Flows")]),_:1}),t(" and "),n(o,{to:"/docs/reference/system/operations"},{default:s(()=>[t("Operations")]),_:1}),t(".")])]),_,m,e("p",null,[t("Each Flow begins with one Trigger, which defines the action that starts the Flow. Triggers can be an event or action within the app, an incoming webhook, a cron job, or a manual click of a button. Please see the documentation on "),n(o,{to:"/docs/configuration/flows/triggers"},{default:s(()=>[t("Triggers")]),_:1}),t(" for more details.")]),e("p",null,[t("Operations are the actions performed after the Trigger, such as accessing and managing a Collection\u2019s items, sending off emails, pushing "),b,t(" notifications, or sending webhooks, just to name a few. You can even set up divergent chains of Flow Operations, which execute conditionally, based on whether the previous Operation passed or failed. A "),n(o,{to:"/docs/configuration/flows/operations#log-to-console"},{default:s(()=>[t("console log")]),_:1}),t(" is also included to help design and troubleshoot your Flows and ensure data is passed on as intended. Please see the documentation on "),n(o,{to:"/docs/configuration/flows/operations"},{default:s(()=>[t("Operations")]),_:1}),t(" for more details.")]),j,y,F,O,e("ol",null,[v,k,e("li",null,[t("Select your "),T,t(" preference as desired."),x,t(" To learn more, please see "),n(o,{to:"/docs/reference/system/activity"},{default:s(()=>[t("Activity")]),_:1}),t(" and "),A,t(".")]),e("li",null,[t("Click "),S,t(" to navigate to "),C,t(". Select a "),n(o,{to:"/docs/configuration/flows/triggers"},{default:s(()=>[t("Trigger")]),_:1}),t(" type and configure as desired.")]),P,E,e("li",null,[t("Choose a "),N,t(", an "),n(o,{to:"/docs/configuration/flows/operations"},{default:s(()=>[t("Operation")]),_:1}),t(" type, and configure as desired."),D,t(" Directus will convert the unique name into an Operation Key, used on the "),$,t("."),L,t(" If you don\u2019t choose a name, the system will auto-generate a name and key.")]),V,W,B,I,q]),G,Y,H,M,J,K,Q,R,U,z,X])]),_:1})}}};export{ie as default,ae as description,ne as modularExtension,le as readTime,oe as title};
